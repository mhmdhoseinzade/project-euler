<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta name=author content="Colin Hughes"><meta name=description content="A website dedicated to the fascinating world of mathematics and programming"><meta name=keywords content=programming,mathematics,problems,puzzles><meta name=viewport content="width=device-width, initial-scale=1"><title>#673 Beds and Desks - Project Euler</title><link rel=apple-touch-icon sizes=180x180 href=favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=favicons/favicon-16x16.png><link rel=manifest href=favicons/site.webmanifest><link rel=mask-icon href=favicons/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=favicons/favicon.ico><meta name=msapplication-TileColor content=#da532c><meta name=msapplication-config content=favicons/browserconfig.xml><meta name=theme-color content=#ffffff><link rel=stylesheet type=text/css href=themes/style_main.1655628576.css><link rel=stylesheet type=text/css href=themes/style_default.1627113674.css><script src=js/mathjax_config.js></script><script src=js/polyfill.min.js></script><script id=MathJax-script async src=js/tex-mml-chtml.js>
</script></head> <body> <div id=container> <div id=header class=noprint> <img src=themes/logo_default.png> <div id=info_panel> &nbsp;&nbsp;&nbsp;<a href=search><img src=images/icons/search_engine.png alt="Search Problems" title="Search Problems" class=icon></a>&nbsp;&nbsp;&nbsp;<a href=rss2_euler.xml><img src=images/icons/news_feed.png alt="RSS Feed" title="RSS Feed" class=icon></a> </div><!--end_info_panel--> </div> <!--end_header--> <div id=navigation class="nav noprint"> <a href=about title=About accesskey=h>About</a> <a href=archives title=Archives id=current accesskey=1>Archives</a> <a href=recent title=Recent accesskey=2>Recent</a> <a href=news title=News accesskey=3>News</a> <a href=register title=Register accesskey=4>Register</a> <a href=sign_in title="Sign In" accesskey=5>Sign In</a> <a class=hamburger id=hamburger> <div class=bar></div> <div class=bar></div> <div class=bar></div> </a> </div> <!--end_nav--> <div id=content> <div class="center print"><img src=images/clipart/print_page_logo.png alt=projecteuler.net></div> <h2>Beds and Desks</h2><div id=problem_icons class=noprint><a href="minimal=673"><img src=images/icons/file_html.png title="Show HTML problem content" class=icon></a>&nbsp;<span class=tooltip><img src=images/icons/info.png class=icon><span class=tooltiptext_right>Published on Sunday, 2nd June 2019, 07:00 am; Solved by 304;<br>Difficulty rating: 35%</span></div><div id=problem_info><h3>Problem 673</h3></div> <div class=problem_content role=problem> <p>At Euler University, each of the $n$ students (numbered from 1 to $n$) occupies a bed in the dormitory and uses a desk in the classroom.</p> <p>Some of the beds are in private rooms which a student occupies alone, while the others are in double rooms occupied by two students as roommates. Similarly, each desk is either a single desk for the sole use of one student, or a twin desk at which two students sit together as desk partners.</p> <p>We represent the bed and desk sharing arrangements each by a list of pairs of student numbers. For example, with $n=4$, if $(2,3)$ represents the bed pairing and $(1,3)(2,4)$ the desk pairing, then students 2 and 3 are roommates while 1 and 4 have single rooms, and students 1 and 3 are desk partners, as are students 2 and 4.</p> <p>The new chancellor of the university decides to change the organisation of beds and desks: a permutation $\sigma$ of the numbers $1,2,\ldots,n$ will be chosen, and each student $k$ will be given both the bed and the desk formerly occupied by student number $\sigma(k)$.</p> <p>The students agree to this change, under the conditions that:</p> <ol><li>Any two students currently sharing a room will still be roommates.</li> <li>Any two students currently sharing a desk will still be desk partners.</li> </ol><p>In the example above, there are only two ways to satisfy these conditions: either take no action ($\sigma$ is the <b>identity permutation</b>), or reverse the order of the students.</p> <p>With $n=6$, for the bed pairing $(1,2)(3,4)(5,6)$ and the desk pairing $(3,6)(4,5)$, there are 8 permutations which satisfy the conditions. One example is the mapping $(1, 2, 3, 4, 5, 6) \mapsto (1, 2, 5, 6, 3, 4)$.</p> <p>With $n=36$, if we have bed pairing:<br> $(2,13)(4,30)(5,27)(6,16)(10,18)(12,35)(14,19)(15,20)(17,26)(21,32)(22,33)(24,34)(25,28)$<br> and desk pairing<br> $(1,35)(2,22)(3,36)(4,28)(5,25)(7,18)(9,23)(13,19)(14,33)(15,34)(20,24)(26,29)(27,30)$<br> then among the $36!$ possible permutations (including the identity permutation), 663552 of them satisfy the conditions stipulated by the students.</p> <p>The downloadable text files <a href=project/resources/p673_beds.txt>beds.txt</a> and <a href=project/resources/p673_desks.txt>desks.txt</a> contain pairings for $n=500$. Each pairing is written on its own line, with the student numbers of the two roommates (or desk partners) separated with a comma. For example, the desk pairing in the $n=4$ example above would be represented in this file format as:</p> <pre>
1,3
2,4
</pre> <p>With these pairings, find the number of permutations that satisfy the students' conditions. Give your answer modulo $999\,999\,937$.</p> </div><br> <br></div> <!--end_content--> </div> <!--end_container--> <div id=footer class=noprint> Project Euler: <a href=copyright>Copyright Information</a> | <a href=privacy>Privacy Policy</a> </div> <!--end_footer--> <div id=modal_window> <div id=modal_content class=message_body> <p>The page has been left unattended for too long and that link/button is no longer active. Please refresh the page.</p> </div> </div> <!--end_modal_window--> <script src=js/general.1618854480.js></script> </body> </html> 
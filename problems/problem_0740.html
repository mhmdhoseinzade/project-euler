<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta name=author content="Colin Hughes"><meta name=description content="A website dedicated to the fascinating world of mathematics and programming"><meta name=keywords content=programming,mathematics,problems,puzzles><meta name=viewport content="width=device-width, initial-scale=1"><title>#740 Secret Santa - Project Euler</title><link rel=apple-touch-icon sizes=180x180 href=favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=favicons/favicon-16x16.png><link rel=manifest href=favicons/site.webmanifest><link rel=mask-icon href=favicons/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=favicons/favicon.ico><meta name=msapplication-TileColor content=#da532c><meta name=msapplication-config content=favicons/browserconfig.xml><meta name=theme-color content=#ffffff><link rel=stylesheet type=text/css href=themes/style_main.1655628576.css><link rel=stylesheet type=text/css href=themes/style_default.1627113674.css><script src=js/mathjax_config.js></script><script src=js/polyfill.min.js></script><script id=MathJax-script async src=js/tex-mml-chtml.js>
</script></head> <body> <div id=container> <div id=header class=noprint> <img src=themes/logo_default.png> <div id=info_panel> &nbsp;&nbsp;&nbsp;<a href=search><img src=images/icons/search_engine.png alt="Search Problems" title="Search Problems" class=icon></a>&nbsp;&nbsp;&nbsp;<a href=rss2_euler.xml><img src=images/icons/news_feed.png alt="RSS Feed" title="RSS Feed" class=icon></a> </div><!--end_info_panel--> </div> <!--end_header--> <div id=navigation class="nav noprint"> <a href=about title=About accesskey=h>About</a> <a href=archives title=Archives id=current accesskey=1>Archives</a> <a href=recent title=Recent accesskey=2>Recent</a> <a href=news title=News accesskey=3>News</a> <a href=register title=Register accesskey=4>Register</a> <a href=sign_in title="Sign In" accesskey=5>Sign In</a> <a class=hamburger id=hamburger> <div class=bar></div> <div class=bar></div> <div class=bar></div> </a> </div> <!--end_nav--> <div id=content> <div class="center print"><img src=images/clipart/print_page_logo.png alt=projecteuler.net></div> <h2>Secret Santa</h2><div id=problem_icons class=noprint><a href="minimal=740"><img src=images/icons/file_html.png title="Show HTML problem content" class=icon></a>&nbsp;<span class=tooltip><img src=images/icons/info.png class=icon><span class=tooltiptext_right>Published on Saturday, 26th December 2020, 01:00 pm; Solved by 187;<br>Difficulty rating: 55%</span></div><div id=problem_info><h3>Problem 740</h3></div> <div class=problem_content role=problem> <p> Secret Santa is a process that allows $n$ people to give each other presents, so that each person gives a single present and receives a single present. At the beginning each of the $n$ people write their name on a slip of paper and put the slip into a hat. Each person takes a random slip from the hat. If the slip has their name they draw another random slip from the hat and then put the slip with their name back into the hat. At the end everyone buys a Christmas present for the person whose name is on the slip they are holding. This process will fail if the last person draws their own name. </p> <p> In this variation each of the $n$ people gives and receives two presents. At the beginning each of the $n$ people writes their name on two slips of paper and puts the slips into a hat (there will be $2n$ slips of paper in the hat). As before each person takes from the hat a random slip that does not contain their own name. Then the same person repeats this process thus ending up with two slips, neither of which contains that person's own name. Then the next person draws two slips in the same way, and so on. The process will fail if the last person gets at least one slip with their own name. </p> <p> Define $q(n)$ to be the probability of this happening. You are given $q(3) = 0.3611111111$ and $q(5) = 0.2476095994$ both rounded to 10 decimal places. </p> <p> Find $q(100)$ rounded to 10 decimal places. </p> </div><br> <br></div> <!--end_content--> </div> <!--end_container--> <div id=footer class=noprint> Project Euler: <a href=copyright>Copyright Information</a> | <a href=privacy>Privacy Policy</a> </div> <!--end_footer--> <div id=modal_window> <div id=modal_content class=message_body> <p>The page has been left unattended for too long and that link/button is no longer active. Please refresh the page.</p> </div> </div> <!--end_modal_window--> <script src=js/general.1618854480.js></script> </body> </html> 